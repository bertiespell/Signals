# Avenue

## Build Locally

```bash
# Starts the replica, running in the background
dfx start --background

# Deploys your canisters to the replica and generates your candid interface
dfx deploy
```

Once the job completes, your application will be available at `http://localhost:8000?canisterId={asset_canister_id}`.

Additionally, if you are making frontend changes, you can start a development server with

```bash
npm start
```

Which will start a server at `http://localhost:8080`, proxying API requests to the replica at port 8000.

### Note on frontend environment variables

If you are hosting frontend code somewhere without using DFX, you may need to make one of the following adjustments to ensure your project does not fetch the root key in production:

-   set`NODE_ENV` to `production` if you are using Webpack
-   use your own preferred method to replace `process.env.NODE_ENV` in the autogenerated declarations
-   Write your own `createActor` constructor

# To update Tailwind CSS

`npx tailwindcss -i ./src/avenue_assets/assets/main.css -o ./dist/avenue_assets/main.css --watch`

# During development to test again with clean state

```
dfx stop
dfx start --background --clean
dfx deploy
npm start
```

You'll maybe want to remove any problem packages from the dfx.json (for instance installing ledger isn't working yet)

# Internet Identity

The app is currently configured to work with a local copy of the internet identity canister running on port 8080

Follow the instructions over: https://github.com/dfinity/internet-identity, specifically, in the HACKING document: https://github.com/dfinity/internet-identity/blob/main/HACKING.md#running-locally

I.e. install the Internet Identity canister

```
npm ci
dfx start --clean --background
II_FETCH_ROOT_KEY=1 dfx deploy --no-wallet --argument '(null)'
dfx canister call internet_identity init_salt
```

Then `npm start` on the FE (which is where the actor is looking in the User Context)

# To do

-   Show the user profile nicely, save the Principle against a username and profile pic url (stored in IPFS)
-   Create ways to pay in ICP via app for Trades
-   Create NFT ticketed app for Events
-   Give users greater control over their signals - you should be able to edit and delete your own
